[![Build Status](https://travis-ci.org/peterpaints/drf-bl.svg?branch=develop)](https://travis-ci.org/peterpaints/drf-bl)
<!-- [![Coverage Status](https://coveralls.io/repos/github/peterpaints/bl/badge.svg?branch=develop)](https://coveralls.io/github/peterpaints/bl?branch=develop) -->
# DRF-Bucketlist

### Intro

This API will assist you in creating a bucketlist - that is, a to-do list of activities you
plan on crossing off before you, well ... kick the bucket.

### Dev Tools

The API has been developed using the following tools:
* [Python 3.6.1](https://www.python.org/)
* [Django](https://www.djangoproject.com/)
* [Django Rest Framework](http://www.django-rest-framework.org/)
* [Sqlite3](https://www.sqlite.org/)

### Installation

> Clone this repo to your local machine: Open terminal in any folder and type:
```
git clone https://github.com/peterpaints/drf-bl.git
```

> Switch to the develop branch using:
```
git checkout develop
```

> Create a [virtualenv](http://docs.python-guide.org/en/latest/dev/virtualenvs/) on your machine and install the dependencies via:
```
pip install -r requirements.txt`
```

> Activate the virtualenv like so:
```
source virtualenv/bin/activate
```
> Cd into the bl app:
```
cd bl
```

> Run the db migrations script:
```
./manage.py db makemigrations && ./manage.py migrate
```

> Finally, start the app!
```
./manage.py runserver
```

> You should see this in your terminal:
```
* Django version 1.11.7, using settings 'bl.settings'
* Starting development server at http://127.0.0.1:8000/
```

### The Endpoints

You can play around with the API by:
* Pasting the URL being served by the `runserver` command in your browser, and working with the beautifully autogenerated DRF UI
* Using [`Postman`](https://www.getpostman.com/)
* Using [`Curl`](https://curl.haxx.se/)

Here are the endpoints:

| URL Endpoint | HTTP Methods | Action |
| -------- | ------------- | --------- |
| `/users/register/` | `POST`  | Register a new user|
|  `/users/login/` | `POST` | Log user in and receive access token|
| `/bucketlists/` | `POST` | Create a new bucketlist |
| `/bucketlists/` | `GET` | Retrieve all bucketlists belonging to a logged in user |
| `/bucketlists/?page=1&per_page=5/` | `GET` | Retrieve 5 bucketlists per page, and show only page 1 |
| `/bucketlists/?q=search_term` | `GET` | Search for a bucketlist with the specified search_term in its name|
| `/bucketlists/<id>` | `GET` |  Retrieve a bucketlist by ID|
| `/bucketlists/<id>` | `PUT` | Update a bucketlist |
| `/bucketlists/<id>` | `DELETE` | Delete a bucketlist |
| `/bucketlists/<id>/items` | `POST` |  Create an item in a bucketlist |
| `/bucketlists/<id>/items/<item_id>` | `PUT`| Update a bucketlist item |
| `/bucketlists/<id>/items/<item_id>` | `DELETE`| Delete an item from a bucketlist |

### Tests

Run tests and get a coverage report:
```
coverage run --source=api ./manage.py test && coverage report
```

### License

[The MIT License](https://github.com/peterpaints/drf-bl/blob/develop/LICENSE.md)
